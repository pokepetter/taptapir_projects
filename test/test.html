<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <!-- <link rel="manifest" href="/manifest.json"> -->

    <!-- <title>snootboop.js</title> -->
    <link rel="stylesheet" href="../taptapir.css">
</head>

<body>
    <div id="game">
        <div id="loading_text">
        loading...<br><br><br><br><br><br><br>
        powered by taptapir
        </div>
    </div>

</body>

<script src="../taptapir.js"></script>


<script type='text/pokescript'>


set_window_color('rgb(49 72 60)')


bg = Entity(scale_y=aspect_ratio, enabled=false)
text = Entity(text='gay test', color='#00000000', text_color='white', text_origin='center', text_size=6)
result = Entity(text='', color='#00000000', text_color='white', y=-.5, scale_y=.1, text_origin='center')

b = Button(text='test me', scale_x=.4, shadow=true)
b.on_click = def():
    b.text = 'calculating...'
    result.text = ''
    invoke(show_result, delay=1)


def show_result()
    b.enabled = false

    r = Math.random()
    if r < .5:
        result.text = 'you are not gay😞'
        bg.enabled = false
    else:
        result.text = 'you are very gay🏳️‍🌈'
        bg.texture = 'rainbow.png'
        bg.enabled = true

    invoke(clear, delay=.5)

def clear():
    b.enabled = true
    b.text = 'test again'



</script>

<script src="../pokescript_compiler.js"></script>

</html>
